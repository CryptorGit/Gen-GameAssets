# Gen-GameAssets Backend - 依存関係
# =====================================

# ----------------------------------------
# PyTorch (手動インストール推奨)
# ----------------------------------------
# CUDA 12.6 の場合:
#   pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu126
# CUDA 12.1 の場合:
#   pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121
# CPU のみ:
#   pip install torch torchvision torchaudio

# ----------------------------------------
# SAM3 Segmentation Server (ローカル)
# ----------------------------------------
# FastAPI + Uvicorn
fastapi>=0.115.0
uvicorn[standard]>=0.32.0
python-multipart>=0.0.9

# 基本
numpy==1.26
Pillow>=10.0.0
scipy>=1.11.0

# SAM3 依存 (sam3/pyproject.toml より)
timm>=1.0.17
tqdm
ftfy==6.1.1
regex
iopath>=0.1.10
typing_extensions
huggingface_hub>=0.20.0

# 画像処理
opencv-python>=4.8.0

# ----------------------------------------
# SAM3D Modal Backend (GPU サーバー用)
# ----------------------------------------
# 設定管理
omegaconf>=2.3.0
hydra-core>=1.3.0

# 3D 処理
trimesh>=4.0.0
plyfile>=1.0.0
# open3d>=0.18.0  # 重いためオプション

# Tensor 操作
einops>=0.7.0

# ----------------------------------------
# TODO: 以下は複雑なビルドが必要 (SAM3D用)
# ----------------------------------------
# kaolin==0.17.0
# gsplat @ git+https://github.com/nerfstudio-project/gsplat.git
# pytorch3d
# MoGe @ git+https://github.com/microsoft/MoGe.git
